<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor de Árvore DOM</title>
    <link rel="stylesheet" type="text/css" href="css/index.css" />
</head>
<body>

    <div class="domTree">
        <div class="item">A</div>
        <div class="item">B
            <div class="item">C</div>
            <div class="item">D</div>
        </div>
        <div class="item">E</div>
    </div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    $(document).ready(function() {
        let selectedElement = null;

        $('#domTree').on('click', 'div', function(event) {
            event.stopPropagation();

            // Remover a classe "selected" de qualquer elemento previamente selecionado
            if (selectedElement) {
                $(selectedElement).removeClass('selected');
            }

            // Adicionar a classe "selected" ao elemento clicado
            selectedElement = this;
            $(selectedElement).addClass('selected');
        });

        // O usuário pode remover o elemento selecionado
        $(document).keyup(function(event) {
            if (selectedElement) {
                switch (event.key) {
                    case 'Delete':
                        $(selectedElement).remove();
                        selectedElement = null;
                        break;
                    case 'Insert':
                        // Exemplo: insere um novo <div> como filho do elemento selecionado
                        $(selectedElement).append('<div class="item">Novo Elemento</div>');
                        break;
                    case 'Enter':
                        // Exemplo: muda o texto do elemento selecionado
                        let newText = prompt("Digite o novo texto:", $(selectedElement).text());
                        if (newText !== null) {
                            $(selectedElement).text(newText);
                        }
                        break;
                }
            }
        });
    });
</script>

</body>
</html>
